<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Date</title>
	<script type="text/javascript">
		function cargafecha(){
			//declaramos la variable con la información fecha
			var d = new Date();
			var weekday = [];
		    weekday[0] = "Domingo";
		    weekday[1] = "Lunes";
		    weekday[2] = "Martes";
		    weekday[3] = "Miércoles";
		    weekday[4] = "Jueves";
		    weekday[5] = "Viernes";
		    weekday[6] = "Sábado";

    		var n = weekday[d.getDay()];
			document.write(n+" "+d.getHours()+" h "+d.getMinutes()+" min "+d.getSeconds()+" sc<br><button onclick='calculadias()'>Calcula dias</button>");
		}//Fin cargafecha
		function validarFormatoFecha(t) {
			// el ^ indica comienzo de la cadena, el \d busca entre 0-9, el {2,4} que puede aparecer 2 o 4 veces, \/ para escapar el separador de fecha, el $indica que la anterior letra es la última de la cadena, las "/" son necesarias al principio y al final para funcionar
      		var RegExPattern = /^\d{1,2}\/\d{1,2}\/\d{2,4}$/;
			      if ((t.match(RegExPattern)) && (t!='')) {
			      		//CONTROLAR QUE LA FECHA ES REAL
			            return true;
			      } else {
			            return false;
			      }
			}//FinvalidarFormatoFecha
		function calculadias(){
			//alert('Falta programar esto, coger el string y verificarlo y manipularlo');
			var t = prompt('Introduce una fecha en formato mm/dd/aaaa','');
			if (validarFormatoFecha(t)){
				//Calcular la resta
				alert('casi hecho');
			}else{
				alert('Vuelve a introducir el dato');
				calculadias();
			}
		}
	</script>
</head>
<body onload="cargafecha()">
	<!-- Mostrar al cargar la Web, el día de la semana, la hora y minutos actuales (evento onload, propiedades gethours(), getminutes() y getseconds() del objeto Date)
	Introducir una fecha en formato cadena mediante el método prompt() y en formato mmm dd, aaaa (por ejemplo, Jan 23, 2008) y devolver en un cuadro de mensaje el número de días que han pasado hasta la fecha actual. Si la cadena introducida no se reconoce como fecha devolverá  false. -->
	
</body>
</html>